<div *ngIf="product">

    <section>
        <h2>Summary</h2>
        <div class="Detail" *ngFor="let detail of summaryDetails;">
            <div class="Detail-label">{{ detail.label }}</div>
            <div class="Detail-value" [ngSwitch]="detail.key">
                <span *ngSwitchCase="'cdrBanking.productCategory'"> {{ getProductCategory(product | propPath: detail.key) }}</span>
                <span *ngSwitchCase="'cdrBanking.isTailored'"> {{ (product | propPath: detail.key) ? 'Yes' : 'No' }}</span>
                <span *ngSwitchCase="'cdrBanking.lastUpdated'">{{ (product | propPath: detail.key) | dateFormat }}</span>
                <span *ngSwitchCase="'cdrBanking.effective'">{{ getEffectiveDate(product.cdrBanking['effectiveFrom'], product.cdrBanking['effectiveTo']) }}</span>
                <span *ngSwitchDefault>{{ (product | propPath: detail.key) || '-' }}</span>
            </div>
        </div>
    </section>

    <section>
        <h2>
            Bundles
            <p-button
                label="Add bundle"
                (click)="addBundle()"
                style="float: right;"
            ></p-button>
        </h2>
        <p-table [value]="bundles">
            <ng-template pTemplate="header">
                <tr>
                    <th>Name</th>
                    <th>Description</th>
                    <th>Additional Info</th>
                    <th></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item>
                <tr>
                    <td>{{ item.name }}</td>
                    <td>{{ item.description }}</td>
                    <td>
                        {{ item.additionalInfo }}
                        <a *ngIf="item.additionalInfoUri" [href]="item.additionalInfoUri" target="_blank">
                            More Information
                        </a>
                    </td>
                    <td>
                        <p-button label="Remove" (click)="removeBundle(item)"></p-button>
                    </td>
                </tr>
            </ng-template>

            <ng-template pTemplate="emptymessage">
                <tr>
                    <td [colSpan]="3" style="text-align: center;">
                        Nothing to show
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </section>
</div>
